        -:    0:Source:TestCollatz.c++
        -:    0:Graph:TestCollatz.gcno
        -:    0:Data:TestCollatz.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:// --------------------------------
        -:    2:// projects/collatz/TestCollatz.c++
        -:    3:// Copyright (C) 2015
        -:    4:// Glenn P. Downing
        -:    5:// --------------------------------
        -:    6:
        -:    7:// https://code.google.com/p/googletest/wiki/V1_7_Primer#Basic_Assertions
        -:    8:
        -:    9:// --------
        -:   10:// includes
        -:   11:// --------
        -:   12:
        -:   13:#include <iostream> // cout, endl
        -:   14:#include <sstream>  // istringtstream, ostringstream
        -:   15:#include <string>   // string
        -:   16:#include <utility>  // pair
        -:   17:
        -:   18:#include "gtest/gtest.h"
        -:   19:
        -:   20:#include "Collatz.h"
        -:   21:
        -:   22:using namespace std;
        -:   23:
        -:   24:// -----------
        -:   25:// TestCollatz
        -:   26:// -----------
        -:   27:
        -:   28:// ----
        -:   29:// read
        -:   30:// ----
        -:   31:
function __cxx_global_var_init called 1 returned 100% blocks executed 60%
function _ZN24CollatzFixture_read_Test8TestBodyEv called 1 returned 100% blocks executed 41%
function _ZN24CollatzFixture_read_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN24CollatzFixture_read_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN24CollatzFixture_read_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN24CollatzFixture_read_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN24CollatzFixture_read_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   32:TEST(CollatzFixture, read) {
branch  0 taken 100%
branch  1 taken 0%
        1:   33:    string s("1 10\n");
        2:   34:    const pair<int, int> p = collatz_read(s);
branch  0 taken 100%
branch  1 taken 0%
        6:   35:    ASSERT_EQ( 1, p.first);
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 taken 100%
branch  5 taken 0%
branch  6 never executed
branch  7 never executed
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 never executed
branch 13 never executed
branch 14 taken 100%
branch 15 taken 0%
       10:   36:    ASSERT_EQ(10, p.second);}
branch  0 taken 0%
branch  1 taken 100%
branch  2 taken 100%
branch  3 taken 0%
branch  4 taken 100%
branch  5 taken 0%
branch  6 never executed
branch  7 never executed
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 never executed
branch 13 never executed
branch 14 taken 50%
branch 15 taken 50%
branch 16 taken 0%
branch 17 taken 100%
branch 18 taken 0%
        -:   37:
        -:   38:// ----
        -:   39:// eval
        -:   40:// ----
        -:   41:
function __cxx_global_var_init8 called 1 returned 100% blocks executed 60%
function _ZN26CollatzFixture_eval_1_Test8TestBodyEv called 1 returned 100% blocks executed 36%
function _ZN26CollatzFixture_eval_1_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_1_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_1_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_1_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_1_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   42:TEST(CollatzFixture, eval_1) {
branch  0 taken 100%
branch  1 taken 0%
        1:   43:    const int v = collatz_eval(1, 10);
        6:   44:    ASSERT_EQ(20, v);}
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 never executed
branch  5 never executed
branch  6 never executed
branch  7 never executed
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 taken 0%
branch 13 taken 100%
branch 14 taken 0%
        -:   45:
function __cxx_global_var_init12 called 1 returned 100% blocks executed 60%
function _ZN26CollatzFixture_eval_2_Test8TestBodyEv called 1 returned 100% blocks executed 36%
function _ZN26CollatzFixture_eval_2_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_2_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_2_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_2_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_2_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   46:TEST(CollatzFixture, eval_2) {
branch  0 taken 100%
branch  1 taken 0%
        1:   47:    const int v = collatz_eval(100, 200);
        6:   48:    ASSERT_EQ(125, v);}
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 never executed
branch  5 never executed
branch  6 never executed
branch  7 never executed
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 taken 0%
branch 13 taken 100%
branch 14 taken 0%
        -:   49:
function __cxx_global_var_init15 called 1 returned 100% blocks executed 60%
function _ZN26CollatzFixture_eval_3_Test8TestBodyEv called 1 returned 100% blocks executed 36%
function _ZN26CollatzFixture_eval_3_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_3_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_3_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_3_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_3_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   50:TEST(CollatzFixture, eval_3) {
branch  0 taken 100%
branch  1 taken 0%
        1:   51:    const int v = collatz_eval(201, 210);
        6:   52:    ASSERT_EQ(89, v);}
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 never executed
branch  5 never executed
branch  6 never executed
branch  7 never executed
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 taken 0%
branch 13 taken 100%
branch 14 taken 0%
        -:   53:
function __cxx_global_var_init18 called 1 returned 100% blocks executed 60%
function _ZN26CollatzFixture_eval_4_Test8TestBodyEv called 1 returned 100% blocks executed 36%
function _ZN26CollatzFixture_eval_4_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_4_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_4_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_4_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_4_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   54:TEST(CollatzFixture, eval_4) {
branch  0 taken 100%
branch  1 taken 0%
        1:   55:    const int v = collatz_eval(900, 1000);
        6:   56:    ASSERT_EQ(174, v);}
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 never executed
branch  5 never executed
branch  6 never executed
branch  7 never executed
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 taken 0%
branch 13 taken 100%
branch 14 taken 0%
        -:   57:
function __cxx_global_var_init21 called 1 returned 100% blocks executed 60%
function _ZN26CollatzFixture_eval_5_Test8TestBodyEv called 1 returned 100% blocks executed 36%
function _ZN26CollatzFixture_eval_5_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_5_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_5_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_5_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_5_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   58:TEST(CollatzFixture, eval_5) {
branch  0 taken 100%
branch  1 taken 0%
        1:   59:    const int v = collatz_eval(900, 900);
        6:   60:    ASSERT_EQ(55, v);}
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 never executed
branch  5 never executed
branch  6 never executed
branch  7 never executed
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 taken 0%
branch 13 taken 100%
branch 14 taken 0%
        -:   61:
function __cxx_global_var_init24 called 1 returned 100% blocks executed 60%
function _ZN26CollatzFixture_eval_6_Test8TestBodyEv called 1 returned 100% blocks executed 36%
function _ZN26CollatzFixture_eval_6_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_6_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_6_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_6_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_6_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   62:TEST(CollatzFixture, eval_6) {
branch  0 taken 100%
branch  1 taken 0%
        1:   63:    const int v = collatz_eval(9000, 10001);
        6:   64:    ASSERT_EQ(260, v);}
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 never executed
branch  5 never executed
branch  6 never executed
branch  7 never executed
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 taken 0%
branch 13 taken 100%
branch 14 taken 0%
        -:   65:
function __cxx_global_var_init27 called 1 returned 100% blocks executed 60%
function _ZN26CollatzFixture_eval_7_Test8TestBodyEv called 1 returned 100% blocks executed 36%
function _ZN26CollatzFixture_eval_7_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_7_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_7_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_7_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN26CollatzFixture_eval_7_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   66:TEST(CollatzFixture, eval_7) {
branch  0 taken 100%
branch  1 taken 0%
        1:   67:    const int v = collatz_eval(1000, 999);
        6:   68:    ASSERT_EQ(112, v);}
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 never executed
branch  5 never executed
branch  6 never executed
branch  7 never executed
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 taken 0%
branch 13 taken 100%
branch 14 taken 0%
        -:   69:
        -:   70:// -----
        -:   71:// print
        -:   72:// -----
        -:   73:
function __cxx_global_var_init30 called 1 returned 100% blocks executed 60%
function _ZN25CollatzFixture_print_Test8TestBodyEv called 1 returned 100% blocks executed 44%
function _ZN25CollatzFixture_print_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN25CollatzFixture_print_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN25CollatzFixture_print_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN25CollatzFixture_print_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN25CollatzFixture_print_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   74:TEST(CollatzFixture, print) {
branch  0 taken 100%
branch  1 taken 0%
        1:   75:    ostringstream w;
        1:   76:    collatz_print(w, 1, 10, 20);
branch  0 taken 100%
branch  1 taken 0%
       11:   77:    ASSERT_EQ("1 10 20\n", w.str());}
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 taken 100%
branch  5 taken 0%
branch  6 taken 100%
branch  7 taken 0%
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 never executed
branch 13 never executed
branch 14 never executed
branch 15 never executed
branch 16 taken 50%
branch 17 taken 50%
branch 18 taken 0%
branch 19 taken 100%
branch 20 taken 0%
        -:   78:
        -:   79:// -----
        -:   80:// solve
        -:   81:// -----
        -:   82:
function __cxx_global_var_init35 called 1 returned 100% blocks executed 60%
function _ZN25CollatzFixture_solve_Test8TestBodyEv called 1 returned 100% blocks executed 43%
function _ZN25CollatzFixture_solve_TestD0Ev called 1 returned 100% blocks executed 100%
function _ZN25CollatzFixture_solve_TestD1Ev called 1 returned 100% blocks executed 100%
function _ZN25CollatzFixture_solve_TestD2Ev called 1 returned 100% blocks executed 100%
function _ZN25CollatzFixture_solve_TestC1Ev called 1 returned 100% blocks executed 100%
function _ZN25CollatzFixture_solve_TestC2Ev called 1 returned 100% blocks executed 100%
        7:   83:TEST(CollatzFixture, solve) {
branch  0 taken 100%
branch  1 taken 0%
        2:   84:    istringstream r("1 10\n100 200\n201 210\n900 1000\n900 900\n9000 10001\n");
branch  0 taken 100%
branch  1 taken 0%
        1:   85:    ostringstream w;
branch  0 taken 100%
branch  1 taken 0%
        1:   86:    collatz_solve(r, w);
branch  0 taken 100%
branch  1 taken 0%
       11:   87:    ASSERT_EQ("1 10 20\n100 200 125\n201 210 89\n900 1000 174\n900 900 55\n9000 10001 260\n", w.str());}
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 taken 100%
branch  5 taken 0%
branch  6 taken 100%
branch  7 taken 0%
branch  8 never executed
branch  9 never executed
branch 10 never executed
branch 11 never executed
branch 12 never executed
branch 13 never executed
branch 14 never executed
branch 15 never executed
branch 16 taken 50%
branch 17 taken 50%
branch 18 taken 0%
branch 19 taken 100%
branch 20 taken 0%
        -:   88:
        -:   89:/*
        -:   90:% g++ -fprofile-arcs -ftest-coverage -pedantic -std=c++11 -Wall Collatz.c++ TestCollatz.c++ -o TestCollatz -lgtest -lgtest_main -lpthread
        -:   91:
        -:   92:
        -:   93:
        -:   94:% valgrind TestCollatz                                         >  TestCollatz.out 2>&1
        -:   95:% gcov -b Collatz.c++     | grep -A 5 "File 'Collatz.c++'"     >> TestCollatz.out
        -:   96:% gcov -b TestCollatz.c++ | grep -A 5 "File 'TestCollatz.c++'" >> TestCollatz.out
        -:   97:
        -:   98:
        -:   99:
        -:  100:% cat TestCollatz.out
        -:  101:==14225== Memcheck, a memory error detector
        -:  102:==14225== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
        -:  103:==14225== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
        -:  104:==14225== Command: TestCollatz
        -:  105:==14225==
        -:  106:Running main() from gtest_main.cc
        -:  107:[==========] Running 7 tests from 1 test case.
        -:  108:[----------] Global test environment set-up.
        -:  109:[----------] 7 tests from Collatz
        -:  110:[ RUN      ] Collatz.read
        -:  111:[       OK ] Collatz.read (31 ms)
        -:  112:[ RUN      ] Collatz.eval_1
        -:  113:[       OK ] Collatz.eval_1 (5 ms)
        -:  114:[ RUN      ] Collatz.eval_2
        -:  115:[       OK ] Collatz.eval_2 (3 ms)
        -:  116:[ RUN      ] Collatz.eval_3
        -:  117:[       OK ] Collatz.eval_3 (3 ms)
        -:  118:[ RUN      ] Collatz.eval_4
        -:  119:[       OK ] Collatz.eval_4 (3 ms)
        -:  120:[ RUN      ] Collatz.print
        -:  121:[       OK ] Collatz.print (17 ms)
        -:  122:[ RUN      ] Collatz.solve
        -:  123:[       OK ] Collatz.solve (10 ms)
        -:  124:[----------] 7 tests from Collatz (88 ms total)
        -:  125:
        -:  126:[----------] Global test environment tear-down
        -:  127:[==========] 7 tests from 1 test case ran. (132 ms total)
        -:  128:[  PASSED  ] 7 tests.
        -:  129:==14225==
        -:  130:==14225== HEAP SUMMARY:
        -:  131:==14225==     in use at exit: 0 bytes in 0 blocks
        -:  132:==14225==   total heap usage: 495 allocs, 495 frees, 70,302 bytes allocated
        -:  133:==14225==
        -:  134:==14225== All heap blocks were freed -- no leaks are possible
        -:  135:==14225==
        -:  136:==14225== For counts of detected and suppressed errors, rerun with: -v
        -:  137:==14225== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 2 from 2)
        -:  138:File 'Collatz.c++'
        -:  139:Lines executed:100.00% of 17
        -:  140:Branches executed:100.00% of 18
        -:  141:Taken at least once:61.11% of 18
        -:  142:Calls executed:89.47% of 19
        -:  143:Creating 'Collatz.c++.gcov'
        -:  144:File 'TestCollatz.c++'
        -:  145:Lines executed:100.00% of 26
        -:  146:Branches executed:57.14% of 224
        -:  147:Taken at least once:28.57% of 224
        -:  148:Calls executed:54.07% of 209
        -:  149:Creating 'TestCollatz.c++.gcov'
        -:  150:*/
